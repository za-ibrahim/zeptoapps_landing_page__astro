<div id="preloader">
  <img id="gifLoader" src="/assets/loader.gif" alt="Loading..." />
</div>

<style>
  #preloader {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff;
    z-index: 9999;
    opacity: 1;
    transition: opacity 0.3s ease;
  }

  /* GIF sizing */
  #gifLoader {
    width: 90px; /* explicit size */
    height: 90px; /* prevents layout shift */
    display: block;
    animation: slowShow 0.5s linear;
  }

  /* Fade out smoothly on first load */
  #preloader.hidden {
    opacity: 0;
    pointer-events: none;
  }

  @keyframes slowShow {
    0% {
      visibility: hidden;
    }
    99% {
      visibility: hidden;
    }
    100% {
      visibility: visible;
    }
  }
</style>

<script>
  const preloader = document.getElementById("preloader");

  window.addEventListener("load", () => {
    preloader?.classList.add("hidden");
  });
  // Only run if first time
  //   if (!sessionStorage.getItem("astroLoaded")) {
  //     window.addEventListener("load", () => {
  //       preloader?.classList.add("hidden");
  //       sessionStorage.setItem("astroLoaded", "true");
  //     });
  //   } else {
  //     preloader.style.display = "none";
  //   }
</script>
