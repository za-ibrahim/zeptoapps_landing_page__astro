<div id="preloader">
  <img id="gifLoader" src="/assets/loader.gif" alt="Loading..." />
  <!-- <svg id="gifLoader" width="100" height="100" viewBox="0 0 50 50">
    <circle
      cx="25"
      cy="25"
      r="20"
      fill="none"
      stroke="#4f46e5"
      stroke-width="8"
      stroke-linecap="round"
      stroke-dasharray="125.6"
      stroke-dashoffset="125.6"
    >
      <animate
        attributeName="stroke-dashoffset"
        values="125.6;31.4;125.6"
        dur="1.5s"
        repeatCount="indefinite"></animate>
      <animateTransform
        attributeName="transform"
        type="rotate"
        from="0 25 25"
        to="360 25 25"
        dur="2s"
        repeatCount="indefinite"></animateTransform>
    </circle>
  </svg> -->
</div>

<style>
  #preloader {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff;
    z-index: 9999;
    opacity: 1;
    transition: opacity 0.3s ease;
  }

  /* GIF sizing */
  #gifLoader {
    width: 90px; /* explicit size */
    height: 90px; /* prevents layout shift */
    display: block;
    animation: slowShow 0.55s linear;
  }

  /* Fade out smoothly on first load */
  #preloader.hidden {
    opacity: 0;
    pointer-events: none;
  }

  @keyframes slowShow {
    0% {
      visibility: hidden;
    }
    99% {
      visibility: hidden;
    }
    100% {
      visibility: visible;
    }
  }
</style>

<script>
  const preloader = document.getElementById("preloader");

  window.addEventListener("load", () => {
    preloader?.classList.add("hidden");
  });
  // Only run if first time
  //   if (!sessionStorage.getItem("astroLoaded")) {
  //     window.addEventListener("load", () => {
  //       preloader?.classList.add("hidden");
  //       sessionStorage.setItem("astroLoaded", "true");
  //     });
  //   } else {
  //     preloader.style.display = "none";
  //   }
</script>
